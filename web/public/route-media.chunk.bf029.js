webpackJsonp([1],{"Gn+E":function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return h});var i=n("KM04"),a=(n.n(i),n("/QC5")),c=n("dM1k"),u=n.n(c),s=Object(i.h)("div",null),l=Object(i.h)("h1",null,"Media"),h=function(e){function t(){var t=r(this,e.call(this));return t.state={countries:null,videos:null},t}return o(t,e),t.prototype.componentWillMount=function(){},t.prototype.componentDidMount=function(){return new Promise(function(e){return this.reload(),e()}.bind(this))},t.prototype.componentWillUnmount=function(){},t.prototype.componentDidUpdate=function(){return new Promise(function(e){return e()})},t.prototype.reload=function(){return new Promise(function(e){var t=this;return null===this.state.countries&&null===this.state.videos&&function(){new Promise(function(e,n){var r,o,i,a,c,u,s,l,h,f,d,v,b;return Promise.resolve(fetch("https://thisisworld-287fb.firebaseio.com/country.json")).then(function(p){try{return r=p,Promise.resolve(r.json()).then(function(r){try{for(o=r,i=[],a=Object.entries(o),c=Array.isArray(a),u=0,a=c?a:a[Symbol.iterator]();;){if(c){if(u>=a.length)break;s=a[u++]}else{if(u=a.next(),u.done)break;s=u.value}l=s,h=l[0],f=l[1],f.uid=h,i.push(f)}return i.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),Promise.resolve(fetch("https://thisisworld-287fb.firebaseio.com/video.json")).then(function(r){try{return d=r,Promise.resolve(d.json()).then(function(r){try{return v=r,b=v||{},t.setState({countries:i,videos:b}),e()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)})}(),e()}.bind(this))},t.prototype.render=function(){var e=this,t=[],n=s,r=[];if(null!==this.state.countries&&null!==this.state.videos){for(var o=this.state.countries,c=Array.isArray(o),h=0,o=c?o:o[Symbol.iterator]();;){var f;if(c){if(h>=o.length)break;f=o[h++]}else{if(h=o.next(),h.done)break;f=h.value}var d=f;if(this.props.country==d.code){r.push(Object(i.h)("div",null,Object(i.h)("h2",null,d.name)));for(var v=Object.entries(this.state.videos),b=Array.isArray(v),p=0,v=b?v:v[Symbol.iterator]();;){var m;if(b){if(p>=v.length)break;m=v[p++]}else{if(p=v.next(),p.done)break;m=p.value}var y=m,j=y[1];d.uid==j.country_uid&&r.push(Object(i.h)("div",null,Object(i.h)("h3",null,j.title),Object(i.h)("div",{class:u.a.videoContainer},Object(i.h)("iframe",{width:"853",height:"480",src:j.link.replace("watch?v=","embed/"),frameborder:"0",allowfullscreen:!0}))))}}}for(var O=this.state.countries,_=Array.isArray(O),w=0,O=_?O:O[Symbol.iterator]();;){var k;if(_){if(w>=O.length)break;k=O[w++]}else{if(w=O.next(),w.done)break;k=w.value}var A=k;!function(n){t.push(Object(i.h)("div",{class:e.props.country==n.code?u.a.navActive:""},Object(i.h)("a",{href:"#",onClick:function(){return Object(a.route)("/media/"+n.code,!0)}},n.code)))}(A)}0==r.length&&(n=Object(i.h)("div",{class:u.a.navButtons},this.state.countries.map(function(e){return Object(i.h)("div",{onClick:function(){return Object(a.route)("/media/"+e.code,!0)}},Object(i.h)("div",null,Object(i.h)("p",null,Object(i.h)("strong",null,e.code)),Object(i.h)("p",null,e.name)))})))}return Object(i.h)("div",null,Object(i.h)("div",{class:u.a.navLeft},t),Object(i.h)("div",{class:u.a.media},l,Object(i.h)("div",{class:u.a.navTop},t),n,Object(i.h)("div",null,r)))},t}(i.Component)},dM1k:function(e){e.exports={media:"media__3MGiq",navLeft:"navLeft__11HsD",navTop:"navTop__oneVB",navActive:"navActive__1EJAP",navButtons:"navButtons__10-7x",videoContainer:"videoContainer__1g7j6"}}});
//# sourceMappingURL=route-media.chunk.bf029.js.map