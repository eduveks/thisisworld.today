{"version":3,"sources":["webpack:///route-media.chunk.bf029.js","webpack:///./routes/media/index.js","webpack:///./routes/media/style.css?1d66"],"names":["webpackJsonp","Gn+E","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","Media","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router__","n","__WEBPACK_IMPORTED_MODULE_2__style__","__WEBPACK_IMPORTED_MODULE_2__style___default","_ref3","_ref8","_Component","_this","this","state","countries","videos","componentWillMount","componentDidMount","Promise","$return","reload","bind","componentWillUnmount","componentDidUpdate","_this2","$error","countryResult","countryJSON","_iterator","_isArray","_i","_ref2","_ref","country_uid","country","videoResult","videoJSON","resolve","fetch","then","$await_1","json","$await_2","entries","Array","isArray","Symbol","iterator","length","next","done","uid","push","sort","a","b","name","$await_3","$await_4","setState","$boundEx","render","_this3","menu","main","contents","_iterator2","_isArray2","_i2","_ref4","props","code","_iterator4","_isArray4","_i4","_ref7","_ref6","video","title","class","style","videoContainer","width","height","src","link","replace","frameborder","allowfullscreen","_iterator3","_isArray3","_i3","_ref5","navActive","href","onClick","route","navButtons","map","navLeft","media","navTop","Component","dM1k","exports"],"mappings":"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","file":"route-media.chunk.bf029.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"Gn+E\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Media; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router__ = __webpack_require__(\"/QC5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(\"dM1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('div', null);\n\nvar _ref8 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'h1',\n    null,\n    'Media'\n);\n\nvar Media = function (_Component) {\n    _inherits(Media, _Component);\n\n    function Media() {\n        _classCallCheck(this, Media);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this));\n\n        _this.state = {\n            countries: null,\n            videos: null\n        };\n        return _this;\n    }\n\n    // gets called just before navigating away from the route\n\n\n    Media.prototype.componentWillMount = function componentWillMount() {};\n\n    Media.prototype.componentDidMount = function componentDidMount() {\n        return new Promise(function ($return, $error) {\n            this.reload();\n            return $return();\n        }.bind(this));\n    };\n\n    Media.prototype.componentWillUnmount = function componentWillUnmount() {};\n\n    Media.prototype.componentDidUpdate = function componentDidUpdate() {\n        return new Promise(function ($return, $error) {\n            return $return();\n        });\n    };\n\n    Media.prototype.reload = function reload() {\n        return new Promise(function ($return, $error) {\n            var _this2 = this;\n\n            if (this.state.countries === null && this.state.videos === null) {\n                (function () {\n                    return new Promise(function ($return, $error) {\n                        var countryResult, countryJSON, countries, _iterator, _isArray, _i, _ref2, _ref, country_uid, country, videoResult, videoJSON, videos;\n\n                        return Promise.resolve(fetch('https://thisisworld-287fb.firebaseio.com/country.json')).then(function ($await_1) {\n                            try {\n                                countryResult = $await_1;\n                                return Promise.resolve(countryResult.json()).then(function ($await_2) {\n                                    try {\n                                        countryJSON = $await_2;\n                                        countries = [];\n                                        for (_iterator = Object.entries(countryJSON), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n                                            if (_isArray) {\n                                                if (_i >= _iterator.length) break;\n                                                _ref2 = _iterator[_i++];\n                                            } else {\n                                                _i = _iterator.next();\n                                                if (_i.done) break;\n                                                _ref2 = _i.value;\n                                            }\n\n                                            _ref = _ref2;\n                                            country_uid = _ref[0];\n                                            country = _ref[1];\n\n                                            country.uid = country_uid;\n                                            countries.push(country);\n                                        }\n                                        countries.sort(function (a, b) {\n                                            if (a.name < b.name) {\n                                                return -1;\n                                            }\n                                            if (a.name > b.name) {\n                                                return 1;\n                                            }\n                                            return 0;\n                                        });\n                                        return Promise.resolve(fetch('https://thisisworld-287fb.firebaseio.com/video.json')).then(function ($await_3) {\n                                            try {\n                                                videoResult = $await_3;\n                                                return Promise.resolve(videoResult.json()).then(function ($await_4) {\n                                                    try {\n                                                        videoJSON = $await_4;\n                                                        videos = videoJSON || {};\n                                                        _this2.setState({ 'countries': countries, 'videos': videos });\n                                                        return $return();\n                                                    } catch ($boundEx) {\n                                                        return $error($boundEx);\n                                                    }\n                                                }, $error);\n                                            } catch ($boundEx) {\n                                                return $error($boundEx);\n                                            }\n                                        }, $error);\n                                    } catch ($boundEx) {\n                                        return $error($boundEx);\n                                    }\n                                }, $error);\n                            } catch ($boundEx) {\n                                return $error($boundEx);\n                            }\n                        }, $error);\n                    });\n                })();\n            }\n            return $return();\n        }.bind(this));\n    };\n\n    Media.prototype.render = function render() {\n        var _this3 = this;\n\n        var menu = [];\n        var main = _ref3;\n        var contents = [];\n        if (this.state.countries !== null && this.state.videos !== null) {\n            for (var _iterator2 = this.state.countries, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n                var _ref4;\n\n                if (_isArray2) {\n                    if (_i2 >= _iterator2.length) break;\n                    _ref4 = _iterator2[_i2++];\n                } else {\n                    _i2 = _iterator2.next();\n                    if (_i2.done) break;\n                    _ref4 = _i2.value;\n                }\n\n                var country = _ref4;\n\n                if (this.props.country != country.code) {\n                    continue;\n                }\n                contents.push(Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    null,\n                    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                        'h2',\n                        null,\n                        country.name\n                    )\n                ));\n                for (var _iterator4 = Object.entries(this.state.videos), _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n                    var _ref7;\n\n                    if (_isArray4) {\n                        if (_i4 >= _iterator4.length) break;\n                        _ref7 = _iterator4[_i4++];\n                    } else {\n                        _i4 = _iterator4.next();\n                        if (_i4.done) break;\n                        _ref7 = _i4.value;\n                    }\n\n                    var _ref6 = _ref7;\n                    var video_uid = _ref6[0];\n                    var video = _ref6[1];\n\n                    if (country.uid == video.country_uid) {\n                        contents.push(Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                            'div',\n                            null,\n                            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                'h3',\n                                null,\n                                video.title\n                            ),\n                            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                'div',\n                                { 'class': __WEBPACK_IMPORTED_MODULE_2__style___default.a.videoContainer },\n                                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('iframe', { width: '853', height: '480', src: video.link.replace('watch?v=', 'embed/'), frameborder: '0', allowfullscreen: true })\n                            )\n                        ));\n                    }\n                }\n            }\n\n            var _loop = function _loop(_country) {\n                menu.push(Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    { 'class': _this3.props.country == _country.code ? __WEBPACK_IMPORTED_MODULE_2__style___default.a.navActive : '' },\n                    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                        'a',\n                        { href: '#', onClick: function onClick(e) {\n                                return Object(__WEBPACK_IMPORTED_MODULE_1_preact_router__[\"route\"])('/media/' + _country.code, true);\n                            } },\n                        _country.code\n                    )\n                ));\n            };\n\n            for (var _iterator3 = this.state.countries, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n                var _ref5;\n\n                if (_isArray3) {\n                    if (_i3 >= _iterator3.length) break;\n                    _ref5 = _iterator3[_i3++];\n                } else {\n                    _i3 = _iterator3.next();\n                    if (_i3.done) break;\n                    _ref5 = _i3.value;\n                }\n\n                var _country = _ref5;\n\n                _loop(_country);\n            }\n            if (contents.length == 0) {\n                main = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    { 'class': __WEBPACK_IMPORTED_MODULE_2__style___default.a.navButtons },\n                    this.state.countries.map(function (country) {\n                        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                            'div',\n                            { onClick: function onClick(e) {\n                                    return Object(__WEBPACK_IMPORTED_MODULE_1_preact_router__[\"route\"])('/media/' + country.code, true);\n                                } },\n                            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                'div',\n                                null,\n                                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                    'p',\n                                    null,\n                                    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                        'strong',\n                                        null,\n                                        country.code\n                                    )\n                                ),\n                                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                                    'p',\n                                    null,\n                                    country.name\n                                )\n                            )\n                        );\n                    })\n                );\n            }\n        }\n\n        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'div',\n            null,\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'div',\n                { 'class': __WEBPACK_IMPORTED_MODULE_2__style___default.a.navLeft },\n                menu\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'div',\n                { 'class': __WEBPACK_IMPORTED_MODULE_2__style___default.a.media },\n                _ref8,\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    { 'class': __WEBPACK_IMPORTED_MODULE_2__style___default.a.navTop },\n                    menu\n                ),\n                main,\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    null,\n                    contents\n                )\n            )\n        );\n    };\n\n    return Media;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"dM1k\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"media\":\"media__3MGiq\",\"navLeft\":\"navLeft__11HsD\",\"navTop\":\"navTop__oneVB\",\"navActive\":\"navActive__1EJAP\",\"navButtons\":\"navButtons__10-7x\",\"videoContainer\":\"videoContainer__1g7j6\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-media.chunk.bf029.js","import { h, Component } from 'preact';\nimport { Router, route } from 'preact-router';\nimport style from './style';\n\nexport default class Media extends Component {\n\n    constructor() {\n\t\tsuper();\n\t\tthis.state = {\n            countries: null,\n            videos: null\n\t\t}\n\t}\n\n\t// gets called just before navigating away from the route\n\tcomponentWillMount() {\n\n    }\n\n    async componentDidMount() {\n        this.reload()\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    async componentDidUpdate() {\n\n    }\n\n    async reload() {\n        if (this.state.countries === null && this.state.videos === null) {\n            (async() => {\n               let countryResult = await fetch('https://thisisworld-287fb.firebaseio.com/country.json')\n               let countryJSON = await countryResult.json()\n               let countries = []\n               for (const [ country_uid, country] of Object.entries(countryJSON)) {\n                   country.uid = country_uid\n                   countries.push(country)\n               }\n               countries.sort((a, b) => {\n                    if (a.name < b.name) {\n                        return -1\n                    }\n                    if (a.name > b.name) {\n                        return 1\n                    }\n                    return 0\n               })\n               let videoResult = await fetch('https://thisisworld-287fb.firebaseio.com/video.json')\n               let videoJSON = await videoResult.json()\n               let videos = videoJSON || {}\n               this.setState({ 'countries': countries, 'videos': videos })\n            })()\n        }\n    }\n\n    render() {\n        let menu = []\n        let main = <div></div>\n        let contents = []\n        if (this.state.countries !== null && this.state.videos !== null) {\n            for (const country of this.state.countries) {\n                if (this.props.country != country.code) {\n                    continue\n                }\n                contents.push(\n                    <div>\n                        <h2>{ country.name }</h2>\n                    </div>\n                )\n                for (const [ video_uid, video] of Object.entries(this.state.videos)) {\n                    if (country.uid == video.country_uid) {\n                        contents.push(\n                            <div>\n                                <h3>{ video.title }</h3>\n                                <div class={ style.videoContainer }>\n                                    <iframe width=\"853\" height=\"480\" src={ video.link.replace('watch?v=', 'embed/') } frameborder=\"0\" allowfullscreen></iframe>\n                                </div>\n                            </div>\n                        )\n                    }\n                }\n            }\n            for (const country of this.state.countries) {\n                menu.push(\n                    <div class={ this.props.country == country.code ? style.navActive : '' }>\n                        <a href=\"#\" onClick={ e => route('/media/'+ country.code, true) }>{ country.code }</a>\n                    </div>\n                )\n            }\n            if (contents.length == 0) {\n                main = <div class={ style.navButtons }>\n                    {\n                        this.state.countries.map((country) => {\n                            return <div onClick={ e => route('/media/'+ country.code, true) }>\n                                <div>\n                                    <p><strong>{ country.code }</strong></p>\n                                    <p>{ country.name }</p>\n                                </div>\n                            </div>\n                        })\n                    }\n                </div>\n            }\n        }\n\n        return (\n            <div>\n                <div class={style.navLeft}>{ menu }</div>\n                <div class={style.media}>\n            \t\t<h1>Media</h1>\n                    <div class={style.navTop}>{ menu }</div>\n                    { main }\n                    <div>{ contents }</div>\n            \t</div>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/media/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"media\":\"media__3MGiq\",\"navLeft\":\"navLeft__11HsD\",\"navTop\":\"navTop__oneVB\",\"navActive\":\"navActive__1EJAP\",\"navButtons\":\"navButtons__10-7x\",\"videoContainer\":\"videoContainer__1g7j6\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/media/style.css\n// module id = dM1k\n// module chunks = 1"],"sourceRoot":""}